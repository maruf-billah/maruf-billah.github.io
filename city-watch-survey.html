<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Watch - Survey & Projection Prototype</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --city-red: #E41E26;
            --primary-blue: #0054A6;
            --secondary-blue: #0072CE;
            --light-blue: #E6F2FF;
            --accent-green: #00A651;
            --dark-gray: #333333;
            --light-gray: #F5F5F5;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: var(--dark-gray);
        }
        
        .navbar {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .navbar-brand {
            color: var(--city-red);
            font-weight: 700;
        }
        
        .nav-link {
            color: var(--dark-gray);
            font-weight: 500;
        }
        
        .nav-link.active {
            color: var(--city-red);
            border-bottom: 2px solid var(--city-red);
        }
        
        .card {
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border: 1px solid #eaeaea;
            margin-bottom: 20px;
        }
        
        .card-header {
            background-color: white;
            border-bottom: 1px solid #eaeaea;
            font-weight: 600;
            padding: 15px 20px;
        }
        
        .btn-primary {
            background-color: var(--city-red);
            border-color: var(--city-red);
        }
        
        .btn-outline-primary {
            color: var(--city-red);
            border-color: var(--city-red);
        }
        
        .btn-outline-primary:hover {
            background-color: var(--city-red);
            color: white;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-published {
            background-color: #e6f7ee;
            color: var(--accent-green);
        }
        
        .status-draft {
            background-color: #fff4e6;
            color: #cc6b00;
        }
        
        .dashboard-stats .stat-card {
            text-align: center;
            padding: 20px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--city-red);
        }
        
        .survey-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .survey-card {
            transition: transform 0.2s;
            height: 100%;
        }
        
        .survey-card:hover {
            transform: translateY(-3px);
        }
        
        .action-btn {
            margin-right: 5px;
            margin-bottom: 5px;
        }
        
        /* Question Table Styles */
        .question-table {
            width: 100%;
            font-size: 0.9rem;
        }
        
        .question-table th {
            background-color: var(--light-blue);
            font-weight: 600;
            padding: 12px 15px;
        }
        
        .question-table td {
            padding: 12px 15px;
            vertical-align: top;
            border-bottom: 1px solid #eaeaea;
        }
        
        .question-table tr:hover {
            background-color: #f8f9fa;
        }
        
        .question-actions {
            white-space: nowrap;
        }
        
        .question-text {
            max-width: 300px;
            word-wrap: break-word;
        }
        
        .question-type-badge {
            background-color: var(--light-blue);
            color: var(--primary-blue);
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
        }
        
        /* Mobile App Styles */
        .mobile-container {
            max-width: 400px;
            margin: 0 auto;
            background-color: white;
            min-height: 700px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }
        
        .mobile-header {
            background-color: var(--city-red);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .mobile-content {
            padding: 20px;
            max-height: 580px;
            overflow-y: auto;
        }
        
        .mobile-footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            background-color: #f8f9fa;
            padding: 15px;
            border-top: 1px solid #eaeaea;
        }
        
        .survey-list-item {
            border: 1px solid #eaeaea;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .survey-list-item:hover {
            background-color: var(--light-blue);
        }
        
        .mobile-question {
            margin-bottom: 20px;
        }
        
        .form-check-input:checked {
            background-color: var(--city-red);
            border-color: var(--city-red);
        }
        
        .mobile-nav {
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
        }
        
        .mobile-nav-item {
            text-align: center;
            color: var(--dark-gray);
            flex: 1;
        }
        
        .mobile-nav-item.active {
            color: var(--city-red);
        }
        
        .mobile-nav-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        /* Toggle Switch */
        .form-switch .form-check-input:checked {
            background-color: var(--city-red);
            border-color: var(--city-red);
        }
        
        /* Log Table */
        .log-table {
            font-size: 0.9rem;
        }
        
        .log-table th {
            background-color: var(--light-blue);
        }
        
        /* Response Grid */
        .response-grid {
            overflow-x: auto;
        }
        
        .response-grid table {
            min-width: 800px;
        }
        
        .response-grid th {
            background-color: var(--light-blue);
            position: sticky;
            top: 0;
        }
        
        /* Projection Styles */
        .projection-summary {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .projection-card {
            text-align: center;
            padding: 20px;
        }
        
        .projection-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--city-red);
        }
        
        .chart-container {
            height: 300px;
            margin-bottom: 20px;
        }
        
        /* Mobile Projection Styles */
        .mobile-projection-tabs {
            display: flex;
            border-bottom: 1px solid #eaeaea;
            margin-bottom: 15px;
        }
        
        .mobile-projection-tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            border-bottom: 2px solid transparent;
            cursor: pointer;
        }
        
        .mobile-projection-tab.active {
            border-bottom: 2px solid var(--city-red);
            color: var(--city-red);
            font-weight: 600;
        }
        
        .mobile-projection-content {
            display: none;
        }
        
        .mobile-projection-content.active {
            display: block;
        }
        
        .mobile-projection-card {
            border: 1px solid #eaeaea;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .mobile-projection-card h6 {
            margin-bottom: 10px;
        }
        
        .mobile-projection-stats {
            display: flex;
            justify-content: space-between;
        }
        
        .mobile-projection-stat {
            text-align: center;
            flex: 1;
        }
        
        .mobile-projection-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--city-red);
        }
        
        .mobile-projection-label {
            font-size: 0.8rem;
            color: var(--dark-gray);
        }
        
        .mobile-projection-table {
            width: 100%;
            font-size: 0.8rem;
        }
        
        .mobile-projection-table th,
        .mobile-projection-table td {
            padding: 8px 5px;
            text-align: left;
            border-bottom: 1px solid #eaeaea;
        }
        
        .mobile-projection-table th {
            font-weight: 600;
            background-color: #f8f9fa;
        }
        
        .mobile-projection-total {
            font-weight: 700;
            background-color: #f0f8ff;
        }
        
        /* Section Management */
        .section {
            display: none;
        }
        
        .active-section {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-poll me-2"></i>
                City Watch - Survey
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showSection('dashboard')">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('questions')">Questions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('surveys')">Surveys</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('survey-log')">Survey Log</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('projection-module')">Projection Module</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('mobile-app')">Mobile App</a>
                    </li>
                </ul>
                <div class="d-flex">
                    <button class="btn btn-outline-primary">
                        <i class="fas fa-user me-1"></i> Admin
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Dashboard Section -->
        <div id="dashboard" class="section active-section">
            <h2 class="mb-4">Dashboard</h2>
            
            <!-- Stats Cards -->
            <div class="row dashboard-stats">
                <div class="col-md-3">
                    <div class="card stat-card">
                        <div class="card-body">
                            <i class="fas fa-clipboard-list fa-2x text-primary mb-3"></i>
                            <h5 class="card-title">Total Surveys</h5>
                            <div class="stat-number">8</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stat-card">
                        <div class="card-body">
                            <i class="fas fa-play-circle fa-2x text-success mb-3"></i>
                            <h5 class="card-title">Active Surveys</h5>
                            <div class="stat-number">3</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stat-card">
                        <div class="card-body">
                            <i class="fas fa-reply fa-2x text-info mb-3"></i>
                            <h5 class="card-title">Total Responses</h5>
                            <div class="stat-number">1,547</div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card stat-card">
                        <div class="card-body">
                            <i class="fas fa-chart-line fa-2x text-warning mb-3"></i>
                            <h5 class="card-title">Response Rate</h5>
                            <div class="stat-number">72%</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Surveys -->
            <div class="card mt-4">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">Recent Surveys</h5>
                    <a href="#" onclick="showSection('surveys')" class="btn btn-sm btn-outline-primary">View All</a>
                </div>
                <div class="card-body">
                    <div class="survey-grid">
                        <!-- Survey Card 1 -->
                        <div class="card survey-card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <h6 class="card-title">Customer Satisfaction</h6>
                                    <span class="status-badge status-published">Published</span>
                                </div>
                                <p class="card-text text-muted small">Measure customer satisfaction with our services</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <div>
                                        <small class="text-muted"><i class="fas fa-reply me-1"></i> 342 responses</small>
                                    </div>
                                    <div>
                                        <small class="text-muted">Ends: Jun 30</small>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-white">
                                <button class="btn btn-sm btn-outline-primary action-btn" title="View" onclick="showSurveyDetails('Customer Satisfaction')">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-primary action-btn" title="View Data" onclick="showViewDataPage('Customer Satisfaction')">
                                    <i class="fas fa-database"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-primary action-btn" title="Push Notification">
                                    <i class="fas fa-bell"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Survey Card 2 -->
                        <div class="card survey-card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <h6 class="card-title">Product Feedback</h6>
                                    <span class="status-badge status-published">Published</span>
                                </div>
                                <p class="card-text text-muted small">Collect feedback about our new mobile app</p>
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <div>
                                        <small class="text-muted"><i class="fas fa-reply me-1"></i> 187 responses</small>
                                    </div>
                                    <div>
                                        <small class="text-muted">Ends: Jul 15</small>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-white">
                                <button class="btn btn-sm btn-outline-primary action-btn" title="View" onclick="showSurveyDetails('Product Feedback')">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-primary action-btn" title="View Data" onclick="showViewDataPage('Product Feedback')">
                                    <i class="fas fa-database"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-primary action-btn" title="Push Notification">
                                    <i class="fas fa-bell"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Questions Section -->
        <div id="questions" class="section">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Question Bank</h2>
                <button class="btn btn-primary" onclick="showAddQuestionModal()">
                    <i class="fas fa-plus me-1"></i> Add Question
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">All Questions</h5>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table question-table">
                            <thead>
                                <tr>
                                    <th width="5%">#</th>
                                    <th width="40%">Question Text</th>
                                    <th width="15%">Type</th>
                                    <th width="15%">Options</th>
                                    <th width="15%">Status</th>
                                    <th width="10%">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td class="question-text">How satisfied are you with our banking services?</td>
                                    <td><span class="question-type-badge">Rating Scale</span></td>
                                    <td>1-5 Scale</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" role="switch" checked>
                                            <label class="form-check-label small">Enabled</label>
                                        </div>
                                    </td>
                                    <td class="question-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td class="question-text">Which banking channels do you use regularly?</td>
                                    <td><span class="question-type-badge">Multiple Choice</span></td>
                                    <td>4 Options</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" role="switch" checked>
                                            <label class="form-check-label small">Enabled</label>
                                        </div>
                                    </td>
                                    <td class="question-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td class="question-text">What is your annual income range?</td>
                                    <td><span class="question-type-badge">Single Choice</span></td>
                                    <td>4 Options</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" role="switch" checked>
                                            <label class="form-check-label small">Enabled</label>
                                        </div>
                                    </td>
                                    <td class="question-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td class="question-text">Please share any additional feedback</td>
                                    <td><span class="question-type-badge">Text</span></td>
                                    <td>N/A</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" role="switch" checked>
                                            <label class="form-check-label small">Enabled</label>
                                        </div>
                                    </td>
                                    <td class="question-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td class="question-text">How many transactions do you make monthly?</td>
                                    <td><span class="question-type-badge">Number</span></td>
                                    <td>N/A</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" role="switch">
                                            <label class="form-check-label small">Disabled</label>
                                        </div>
                                    </td>
                                    <td class="question-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>6</td>
                                    <td class="question-text">Upload supporting document (if any)</td>
                                    <td><span class="question-type-badge">File Upload</span></td>
                                    <td>N/A</td>
                                    <td>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" role="switch" checked>
                                            <label class="form-check-label small">Enabled</label>
                                        </div>
                                    </td>
                                    <td class="question-actions">
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-sm btn-outline-danger">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Surveys Section -->
        <div id="surveys" class="section">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Surveys</h2>
                <button class="btn btn-primary" onclick="showCreateSurveyModal()">
                    <i class="fas fa-plus me-1"></i> Create Survey
                </button>
            </div>

            <div class="survey-grid">
                <!-- Survey Card 1 -->
                <div class="card survey-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h6 class="card-title">Customer Satisfaction</h6>
                            <span class="status-badge status-published">Published</span>
                        </div>
                        <p class="card-text text-muted small">Measure customer satisfaction with our services</p>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <div>
                                <small class="text-muted"><i class="fas fa-reply me-1"></i> 342 responses</small>
                            </div>
                            <div>
                                <small class="text-muted">Ends: Jun 30</small>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer bg-white">
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View" onclick="showSurveyDetails('Customer Satisfaction')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Analytics">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View Data" onclick="showViewDataPage('Customer Satisfaction')">
                            <i class="fas fa-database"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Push Notification">
                            <i class="fas fa-bell"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <!-- Survey Card 2 -->
                <div class="card survey-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h6 class="card-title">Product Feedback</h6>
                            <span class="status-badge status-published">Published</span>
                        </div>
                        <p class="card-text text-muted small">Collect feedback about our new mobile app</p>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <div>
                                <small class="text-muted"><i class="fas fa-reply me-1"></i> 187 responses</small>
                            </div>
                            <div>
                                <small class="text-muted">Ends: Jul 15</small>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer bg-white">
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View" onclick="showSurveyDetails('Product Feedback')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Analytics">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View Data" onclick="showViewDataPage('Product Feedback')">
                            <i class="fas fa-database"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Push Notification">
                            <i class="fas fa-bell"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <!-- Survey Card 3 -->
                <div class="card survey-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h6 class="card-title">Employee Engagement</h6>
                            <span class="status-badge status-draft">Draft</span>
                        </div>
                        <p class="card-text text-muted small">Gather feedback from employees</p>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <div>
                                <small class="text-muted"><i class="fas fa-reply me-1"></i> 0 responses</small>
                            </div>
                            <div>
                                <small class="text-muted">Not scheduled</small>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer bg-white">
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View" onclick="showSurveyDetails('Employee Engagement')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Analytics">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View Data">
                            <i class="fas fa-database"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Push Notification">
                            <i class="fas fa-bell"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <!-- Survey Card 4 -->
                <div class="card survey-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h6 class="card-title">Market Research</h6>
                            <span class="status-badge status-published">Published</span>
                        </div>
                        <p class="card-text text-muted small">Understand customer preferences and market trends</p>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <div>
                                <small class="text-muted"><i class="fas fa-reply me-1"></i> 89 responses</small>
                            </div>
                            <div>
                                <small class="text-muted">Ends: Aug 10</small>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer bg-white">
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View" onclick="showSurveyDetails('Market Research')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Analytics">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View Data" onclick="showViewDataPage('Market Research')">
                            <i class="fas fa-database"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Push Notification">
                            <i class="fas fa-bell"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <!-- Survey Card 5 -->
                <div class="card survey-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h6 class="card-title">Service Quality Assessment</h6>
                            <span class="status-badge status-published">Published</span>
                        </div>
                        <p class="card-text text-muted small">Evaluate the quality of our banking services</p>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <div>
                                <small class="text-muted"><i class="fas fa-reply me-1"></i> 156 responses</small>
                            </div>
                            <div>
                                <small class="text-muted">Ends: Jul 25</small>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer bg-white">
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View" onclick="showSurveyDetails('Service Quality Assessment')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Analytics">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View Data" onclick="showViewDataPage('Service Quality Assessment')">
                            <i class="fas fa-database"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Push Notification">
                            <i class="fas fa-bell"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <!-- Survey Card 6 -->
                <div class="card survey-card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h6 class="card-title">Digital Banking Experience</h6>
                            <span class="status-badge status-draft">Draft</span>
                        </div>
                        <p class="card-text text-muted small">Collect feedback on digital banking platforms</p>
                        <div class="d-flex justify-content-between align-items-center mt-3">
                            <div>
                                <small class="text-muted"><i class="fas fa-reply me-1"></i> 0 responses</small>
                            </div>
                            <div>
                                <small class="text-muted">Not scheduled</small>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer bg-white">
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View" onclick="showSurveyDetails('Digital Banking Experience')">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Analytics">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="View Data">
                            <i class="fas fa-database"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-primary action-btn" title="Push Notification">
                            <i class="fas fa-bell"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger action-btn" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Survey Log Section -->
        <div id="survey-log" class="section">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Survey Log</h2>
                <button class="btn btn-outline-primary">
                    <i class="fas fa-download me-1"></i> Export Log
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Survey Activity Log</h5>
                </div>
                <div class="card-body">
                    <div class="filter-section">
                        <div class="row">
                            <div class="col-md-4">
                                <label class="form-label">Survey Title</label>
                                <select class="form-select" id="surveyFilter">
                                    <option value="">All Surveys</option>
                                    <option value="Customer Satisfaction">Customer Satisfaction</option>
                                    <option value="Product Feedback">Product Feedback</option>
                                    <option value="Employee Engagement">Employee Engagement</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Activity Type</label>
                                <select class="form-select" id="activityFilter">
                                    <option value="">All Activities</option>
                                    <option value="response">Response Submitted</option>
                                    <option value="survey_published">Survey Published</option>
                                    <option value="survey_created">Survey Created</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Date Range</label>
                                <input type="date" class="form-control">
                            </div>
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-primary">Apply Filters</button>
                            <button class="btn btn-outline-secondary ms-2">Reset</button>
                        </div>
                    </div>

                    <div class="table-responsive mt-4">
                        <table class="table table-striped log-table">
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>Survey Title</th>
                                    <th>Activity</th>
                                    <th>User</th>
                                    <th>Details</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>2023-06-15 10:30:15</td>
                                    <td>Customer Satisfaction</td>
                                    <td><span class="badge bg-success">Response Submitted</span></td>
                                    <td>user@example.com</td>
                                    <td>Response ID: #342</td>
                                </tr>
                                <tr>
                                    <td>2023-06-15 09:15:42</td>
                                    <td>Product Feedback</td>
                                    <td><span class="badge bg-success">Response Submitted</span></td>
                                    <td>respondent@example.com</td>
                                    <td>Response ID: #187</td>
                                </tr>
                                <tr>
                                    <td>2023-06-14 16:45:23</td>
                                    <td>Customer Satisfaction</td>
                                    <td><span class="badge bg-primary">Survey Published</span></td>
                                    <td>admin@citybank.com</td>
                                    <td>Survey made live</td>
                                </tr>
                                <tr>
                                    <td>2023-06-14 14:20:10</td>
                                    <td>Employee Engagement</td>
                                    <td><span class="badge bg-info">Survey Created</span></td>
                                    <td>admin@citybank.com</td>
                                    <td>Draft created</td>
                                </tr>
                                <tr>
                                    <td>2023-06-13 11:05:33</td>
                                    <td>Product Feedback</td>
                                    <td><span class="badge bg-success">Response Submitted</span></td>
                                    <td>customer@example.com</td>
                                    <td>Response ID: #186</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- View Data Section -->
        <div id="view-data" class="section">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Survey Responses - <span id="viewDataSurveyTitle"></span></h2>
                <div>
                    <button class="btn btn-outline-primary" onclick="downloadSampleData()">
                        <i class="fas fa-download me-1"></i> Download Data
                    </button>
                    <button class="btn btn-outline-primary ms-2">
                        <i class="fas fa-file-excel me-1"></i> Export Excel
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Response Data</h5>
                </div>
                <div class="card-body">
                    <div class="filter-section">
                        <div class="row">
                            <div class="col-md-3">
                                <label class="form-label">From Date</label>
                                <input type="date" class="form-control">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">To Date</label>
                                <input type="date" class="form-control">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Question</label>
                                <select class="form-select">
                                    <option>All Questions</option>
                                    <option>How satisfied are you with our banking services?</option>
                                    <option>Which banking channels do you use regularly?</option>
                                </select>
                            </div>
                            <div class="col-md-3 d-flex align-items-end">
                                <button class="btn btn-primary w-100">Apply Filters</button>
                            </div>
                        </div>
                    </div>

                    <div class="response-grid">
                        <table class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>Response ID</th>
                                    <th>Created By</th>
                                    <th>Created Date</th>
                                    <th>RM Number</th>
                                    <th>Employee Name</th>
                                    <th>Business Area</th>
                                    <th>How satisfied are you with our banking services?</th>
                                    <th>Which banking channels do you use regularly?</th>
                                    <th>What is your annual income range?</th>
                                    <th>Please share any additional feedback</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>342</td>
                                    <td>user@example.com</td>
                                    <td>2023-06-15 10:30:15</td>
                                    <td>RM-00123</td>
                                    <td>John Smith</td>
                                    <td>Retail Banking</td>
                                    <td>4 - Satisfied</td>
                                    <td>Mobile Banking App, Online Banking</td>
                                    <td>600,000 - 1,000,000 BDT</td>
                                    <td>The mobile banking app is very convenient, but sometimes it's slow during peak hours.</td>
                                </tr>
                                <tr>
                                    <td>341</td>
                                    <td>user@example.com</td>
                                    <td>2023-06-14 14:15:42</td>
                                    <td>RM-00123</td>
                                    <td>John Smith</td>
                                    <td>Retail Banking</td>
                                    <td>5 - Very Satisfied</td>
                                    <td>ATM, Branch Visit</td>
                                    <td>300,000 - 600,000 BDT</td>
                                    <td>Excellent customer service at the branch. Staff are very helpful.</td>
                                </tr>
                                <tr>
                                    <td>340</td>
                                    <td>customer@example.com</td>
                                    <td>2023-06-14 11:20:10</td>
                                    <td>RM-00789</td>
                                    <td>Michael Brown</td>
                                    <td>Corporate Banking</td>
                                    <td>3 - Neutral</td>
                                    <td>Mobile Banking App</td>
                                    <td>Below 300,000 BDT</td>
                                    <td>Would like to see more ATM locations in my area.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Projection Module Section -->
        <div id="projection-module" class="section">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Projection Module</h2>
                <button class="btn btn-primary" onclick="showAddProjectionModal()">
                    <i class="fas fa-plus me-1"></i> Add Projection
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Projection Summary</h5>
                </div>
                <div class="card-body">
                    <div class="projection-summary">
                        <div class="card projection-card">
                            <div class="card-body">
                                <h5 class="card-title">Total Projections</h5>
                                <div class="projection-number">24</div>
                            </div>
                        </div>
                        <div class="card projection-card">
                            <div class="card-body">
                                <h5 class="card-title">Total Amount</h5>
                                <div class="projection-number"> 12.5M</div>
                            </div>
                        </div>
                        <div class="card projection-card">
                            <div class="card-body">
                                <h5 class="card-title">Pending</h5>
                                <div class="projection-number">8</div>
                            </div>
                        </div>
                        <div class="card projection-card">
                            <div class="card-body">
                                <h5 class="card-title">Approved</h5>
                                <div class="projection-number">12</div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">Zone-wise Summary</h6>
                                </div>
                                <div class="card-body">
                                    <div class="chart-container">
                                        <canvas id="zoneChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">Status-wise Summary</h6>
                                </div>
                                <div class="card-body">
                                    <div class="chart-container">
                                        <canvas id="statusChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-4">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <h5 class="mb-0">All Projections</h5>
                                    <div>
                                        <button class="btn btn-sm btn-outline-primary">
                                            <i class="fas fa-download me-1"></i> Export
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="filter-section">
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="form-label">Zone</label>
                                                <select class="form-select">
                                                    <option>All Zones</option>
                                                    <option>Dhaka Zone</option>
                                                    <option>Chittagong Zone</option>
                                                    <option>Khulna Zone</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="form-label">Region</label>
                                                <select class="form-select">
                                                    <option>All Regions</option>
                                                    <option>Central Region</option>
                                                    <option>Northern Region</option>
                                                    <option>Southern Region</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="form-label">Territory</label>
                                                <select class="form-select">
                                                    <option>All Territories</option>
                                                    <option>Territory A</option>
                                                    <option>Territory B</option>
                                                    <option>Territory C</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="form-label">Business Area</label>
                                                <select class="form-select">
                                                    <option>All Areas</option>
                                                    <option>Retail Banking</option>
                                                    <option>Corporate Banking</option>
                                                    <option>SME Banking</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="form-label">Status</label>
                                                <select class="form-select">
                                                    <option>All Status</option>
                                                    <option>Pending</option>
                                                    <option>Approved</option>
                                                    <option>Hardcopy Submission</option>
                                                </select>
                                            </div>
                                            <div class="col-md-2 d-flex align-items-end">
                                                <button class="btn btn-primary w-100">Apply Filters</button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="table-responsive mt-4">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>Title</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                    <th>Zone</th>
                                                    <th>Region</th>
                                                    <th>Territory</th>
                                                    <th>Business Area</th>
                                                    <th>Submitted By</th>
                                                    <th>Submission Date</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>New Branch Expansion</td>
                                                    <td> 2,500,000</td>
                                                    <td><span class="badge bg-warning">Pending</span></td>
                                                    <td>Dhaka Zone</td>
                                                    <td>Central Region</td>
                                                    <td>Territory A</td>
                                                    <td>Retail Banking</td>
                                                    <td>RO-00123</td>
                                                    <td>2023-06-15</td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-primary">
                                                            <i class="fas fa-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-primary">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Digital Transformation</td>
                                                    <td> 5,000,000</td>
                                                    <td><span class="badge bg-success">Approved</span></td>
                                                    <td>Chittagong Zone</td>
                                                    <td>Southern Region</td>
                                                    <td>Territory B</td>
                                                    <td>Corporate Banking</td>
                                                    <td>RO-00456</td>
                                                    <td>2023-06-12</td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-primary">
                                                            <i class="fas fa-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-primary">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>SME Loan Program</td>
                                                    <td> 3,750,000</td>
                                                    <td><span class="badge bg-info">Hardcopy Submission</span></td>
                                                    <td>Khulna Zone</td>
                                                    <td>Northern Region</td>
                                                    <td>Territory C</td>
                                                    <td>SME Banking</td>
                                                    <td>RO-00789</td>
                                                    <td>2023-06-10</td>
                                                    <td>
                                                        <button class="btn btn-sm btn-outline-primary">
                                                            <i class="fas fa-eye"></i>
                                                        </button>
                                                        <button class="btn btn-sm btn-outline-primary">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile App Section -->
        <div id="mobile-app" class="section">
            <h2 class="mb-4">Mobile App Preview</h2>
            <p class="text-muted mb-4">This is a preview of how the surveys will appear on mobile devices.</p>
            
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="mobile-container">
                        <div class="mobile-header">
                            <h5 class="mb-0">City Wathc - Surveys</h5>
                            <p class="mb-0 small">Collect data on the go</p>
                        </div>
                        
                        <div class="mobile-content" id="mobileContent">
                            <!-- Active Surveys View -->
                            <div id="mobileSurveysView">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h6 class="mb-0">Active Surveys</h6>
                                    <button class="btn btn-sm btn-outline-primary" onclick="showMobileSubmittedData()">
                                        <i class="fas fa-history me-1"></i> My Submissions
                                    </button>
                                </div>
                                
                                <div class="survey-list-item" onclick="showMobileSurvey('Customer Satisfaction')">
                                    <h6>Customer Satisfaction</h6>
                                    <p class="small text-muted mb-1">Measure customer satisfaction with our services</p>
                                    <div class="d-flex justify-content-between">
                                        <span class="badge bg-light text-dark"><i class="fas fa-reply me-1"></i> 342 responses</span>
                                        <small class="text-muted">Ends: Jun 30</small>
                                    </div>
                                </div>
                                
                                <div class="survey-list-item" onclick="showMobileSurvey('Product Feedback')">
                                    <h6>Product Feedback</h6>
                                    <p class="small text-muted mb-1">Collect feedback about our new mobile app</p>
                                    <div class="d-flex justify-content-between">
                                        <span class="badge bg-light text-dark"><i class="fas fa-reply me-1"></i> 187 responses</span>
                                        <small class="text-muted">Ends: Jul 15</small>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Survey Questions View (hidden by default) -->
                            <div id="mobileSurveyView" style="display: none;">
                                <div class="d-flex align-items-center mb-3">
                                    <button class="btn btn-sm btn-outline-primary me-2" onclick="showMobileSurveys()">
                                        <i class="fas fa-arrow-left"></i>
                                    </button>
                                    <h6 id="mobileSurveyTitle">Survey Title</h6>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Business Area</label>
                                    <select class="form-select" id="mobileBusinessArea">
                                        <option value="retail" selected>Retail Banking</option>
                                        <option value="corporate">Corporate Banking</option>
                                        <option value="sme">SME Banking</option>
                                        <option value="treasury">Treasury</option>
                                    </select>
                                </div>
                                
                                <div id="mobileSurveyQuestions">
                                    <!-- Questions will be loaded here dynamically -->
                                </div>
                                
                                <div class="mobile-footer">
                                    <button class="btn btn-primary w-100" onclick="submitMobileResponse()">Submit Response</button>
                                </div>
                            </div>
                            
                            <!-- Response Confirmation View (hidden by default) -->
                            <div id="mobileConfirmationView" style="display: none;">
                                <div class="text-center py-4">
                                    <i class="fas fa-check-circle fa-3x text-success mb-3"></i>
                                    <h5>Response Submitted</h5>
                                    <p class="text-muted">Thank you for your feedback!</p>
                                    <button class="btn btn-outline-primary mt-3" onclick="showMobileSurveys()">Back to Surveys</button>
                                </div>
                            </div>
                            
                            <!-- Submitted Data View (hidden by default) -->
                            <div id="mobileSubmittedDataView" style="display: none;">
                                <div class="d-flex align-items-center mb-3">
                                    <button class="btn btn-sm btn-outline-primary me-2" onclick="showMobileSurveys()">
                                        <i class="fas fa-arrow-left"></i>
                                    </button>
                                    <h6 class="mb-0">My Submissions</h6>
                                </div>
                                
                                <div class="mb-3">
                                    <label class="form-label">Select Survey</label>
                                    <select class="form-select" onchange="filterMobileSubmissions(this.value)">
                                        <option value="all">All Surveys</option>
                                        <option value="Customer Satisfaction">Customer Satisfaction</option>
                                        <option value="Product Feedback">Product Feedback</option>
                                    </select>
                                </div>
                                
                                <div id="mobileSubmissionsList">
                                    <!-- Submissions will be loaded here dynamically -->
                                </div>
                            </div>
                            
                            <!-- Projection Module View (hidden by default) -->
                            <div id="mobileProjectionView" style="display: none;">
                                <div class="d-flex align-items-center mb-3">
                                    <button class="btn btn-sm btn-outline-primary me-2" onclick="showMobileSurveys()">
                                        <i class="fas fa-arrow-left"></i>
                                    </button>
                                    <h6 class="mb-0">Projection Module</h6>
                                </div>
                                
                                <div class="mobile-projection-tabs">
                                    <div class="mobile-projection-tab active" onclick="showMobileProjectionTab('overview')">Overview</div>
                                    <div class="mobile-projection-tab" onclick="showMobileProjectionTab('zone')">Zone</div>
                                    <div class="mobile-projection-tab" onclick="showMobileProjectionTab('region')">Region</div>
                                </div>
                                
                                <!-- Overview Tab -->
                                <div id="mobileProjectionOverview" class="mobile-projection-content active">
                                    <div class="mobile-projection-card">
                                        <h6>Overall Submission</h6>
                                        <div class="mobile-projection-stats">
                                            <div class="mobile-projection-stat">
                                                <div class="mobile-projection-value">24</div>
                                                <div class="mobile-projection-label">Total</div>
                                            </div>
                                            <div class="mobile-projection-stat">
                                                <div class="mobile-projection-value">12.5M</div>
                                                <div class="mobile-projection-label">Amount</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="mobile-projection-card">
                                        <h6>Status-wise Submission</h6>
                                        <table class="mobile-projection-table">
                                            <thead>
                                                <tr>
                                                    <th>Status</th>
                                                    <th>Count</th>
                                                    <th>Amount</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Pending</td>
                                                    <td>8</td>
                                                    <td>3.2M</td>
                                                </tr>
                                                <tr>
                                                    <td>Approved</td>
                                                    <td>12</td>
                                                    <td>7.5M</td>
                                                </tr>
                                                <tr>
                                                    <td>Hardcopy Submission</td>
                                                    <td>4</td>
                                                    <td>1.8M</td>
                                                </tr>
                                                <tr class="mobile-projection-total">
                                                    <td>Total</td>
                                                    <td>24</td>
                                                    <td>12.5M</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <!-- Zone Tab -->
                                <div id="mobileProjectionZone" class="mobile-projection-content">
                                    <div class="mobile-projection-card">
                                        <h6>Zone-wise Summary</h6>
                                        <table class="mobile-projection-table">
                                            <thead>
                                                <tr>
                                                    <th>Zone</th>
                                                    <th>Pending</th>
                                                    <th>Approved</th>
                                                    <th>Hardcopy</th>
                                                    <th>Total</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Dhaka Zone</td>
                                                    <td>3</td>
                                                    <td>7</td>
                                                    <td>2</td>
                                                    <td>12</td>
                                                </tr>
                                                <tr>
                                                    <td>Chittagong Zone</td>
                                                    <td>4</td>
                                                    <td>3</td>
                                                    <td>1</td>
                                                    <td>8</td>
                                                </tr>
                                                <tr>
                                                    <td>Khulna Zone</td>
                                                    <td>1</td>
                                                    <td>2</td>
                                                    <td>1</td>
                                                    <td>4</td>
                                                </tr>
                                                <tr class="mobile-projection-total">
                                                    <td>Total</td>
                                                    <td>8</td>
                                                    <td>12</td>
                                                    <td>4</td>
                                                    <td>24</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <!-- Region Tab -->
                                <div id="mobileProjectionRegion" class="mobile-projection-content">
                                    <div class="mobile-projection-card">
                                        <h6>Region-wise Summary</h6>
                                        <table class="mobile-projection-table">
                                            <thead>
                                                <tr>
                                                    <th>Region</th>
                                                    <th>Pending</th>
                                                    <th>Approved</th>
                                                    <th>Hardcopy</th>
                                                    <th>Total</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Central Region</td>
                                                    <td>2</td>
                                                    <td>5</td>
                                                    <td>1</td>
                                                    <td>8</td>
                                                </tr>
                                                <tr>
                                                    <td>Northern Region</td>
                                                    <td>3</td>
                                                    <td>4</td>
                                                    <td>1</td>
                                                    <td>8</td>
                                                </tr>
                                                <tr>
                                                    <td>Southern Region</td>
                                                    <td>3</td>
                                                    <td>3</td>
                                                    <td>2</td>
                                                    <td>8</td>
                                                </tr>
                                                <tr class="mobile-projection-total">
                                                    <td>Total</td>
                                                    <td>8</td>
                                                    <td>12</td>
                                                    <td>4</td>
                                                    <td>24</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <div class="mobile-footer">
                                    <button class="btn btn-primary w-100" onclick="showAddProjectionMobile()">
                                        <i class="fas fa-plus me-1"></i> Add Projection
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mobile-nav">
                            <div class="mobile-nav-item active" onclick="showMobileSurveys()">
                                <div class="mobile-nav-icon">
                                    <i class="fas fa-poll"></i>
                                </div>
                                <div class="small">Surveys</div>
                            </div>
                            <div class="mobile-nav-item" onclick="showMobileProjection()">
                                <div class="mobile-nav-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="small">Projections</div>
                            </div>
                            <div class="mobile-nav-item" onclick="showMobileSubmittedData()">
                                <div class="mobile-nav-icon">
                                    <i class="fas fa-history"></i>
                                </div>
                                <div class="small">History</div>
                            </div>
                            <div class="mobile-nav-item">
                                <div class="mobile-nav-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="small">Profile</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Question Modal -->
    <div class="modal fade" id="addQuestionModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Question</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="questionText" class="form-label">Question Text</label>
                        <input type="text" class="form-control" id="questionText" placeholder="Enter your question">
                    </div>
                    <div class="mb-3">
                        <label for="questionType" class="form-label">Question Type</label>
                        <select class="form-select" id="questionType" onchange="toggleOptions()">
                            <option value="text">Text</option>
                            <option value="number">Number</option>
                            <option value="radio">Single Choice</option>
                            <option value="checkbox">Multiple Choice</option>
                            <option value="file">File Upload</option>
                        </select>
                    </div>
                    <div id="optionsSection" style="display: none;">
                        <label class="form-label">Options</label>
                        <div id="optionsContainer">
                            <div class="option-with-value">
                                <input type="text" class="form-control" placeholder="Option 1">
                                <input type="text" class="form-control value-input" placeholder="Value">
                                <button class="btn btn-outline-danger" type="button" onclick="removeOption(this)"><i class="fas fa-times"></i></button>
                            </div>
                            <div class="option-with-value">
                                <input type="text" class="form-control" placeholder="Option 2">
                                <input type="text" class="form-control value-input" placeholder="Value">
                                <button class="btn btn-outline-danger" type="button" onclick="removeOption(this)"><i class="fas fa-times"></i></button>
                            </div>
                        </div>
                        <button class="btn btn-sm btn-outline-primary" onclick="addOption()">
                            <i class="fas fa-plus me-1"></i> Add Option
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Add Question</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Survey Modal -->
    <div class="modal fade" id="createSurveyModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create New Survey</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="surveyTitle" class="form-label">Survey Title</label>
                        <input type="text" class="form-control" id="surveyTitle" placeholder="Enter survey title">
                    </div>
                    <div class="mb-3">
                        <label for="surveyDescription" class="form-label">Description</label>
                        <textarea class="form-control" id="surveyDescription" rows="2" placeholder="Enter survey description"></textarea>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="startDate" class="form-label">Start Date (Optional)</label>
                            <input type="date" class="form-control" id="startDate">
                        </div>
                        <div class="col-md-6">
                            <label for="endDate" class="form-label">End Date (Optional)</label>
                            <input type="date" class="form-control" id="endDate">
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <h6>Select Questions</h6>
                        <p class="text-muted small">Check the questions you want to include in this survey</p>
                        
                        <div class="sortable-questions" id="sortableQuestions">
                            <!-- Question Selection Cards -->
                            <div class="card question-select-card mb-2">
                                <div class="card-body py-2">
                                    <div class="d-flex align-items-center">
                                        <div class="form-check me-3">
                                            <input class="form-check-input" type="checkbox">
                                        </div>
                                        <div class="flex-grow-1">
                                            <strong>How satisfied are you with our banking services?</strong>
                                            <p class="text-muted small mb-0">Rating question</p>
                                        </div>
                                        <div class="ms-3">
                                            <input type="number" class="form-control form-control-sm" placeholder="Order" style="width: 80px;">
                                        </div>
                                        <div class="ms-2">
                                            <i class="fas fa-grip-vertical text-muted"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card question-select-card mb-2">
                                <div class="card-body py-2">
                                    <div class="d-flex align-items-center">
                                        <div class="form-check me-3">
                                            <input class="form-check-input" type="checkbox">
                                        </div>
                                        <div class="flex-grow-1">
                                            <strong>Which banking channels do you use regularly?</strong>
                                            <p class="text-muted small mb-0">Multiple choice question</p>
                                        </div>
                                        <div class="ms-3">
                                            <input type="number" class="form-control form-control-sm" placeholder="Order" style="width: 80px;">
                                        </div>
                                        <div class="ms-2">
                                            <i class="fas fa-grip-vertical text-muted"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card question-select-card mb-2">
                                <div class="card-body py-2">
                                    <div class="d-flex align-items-center">
                                        <div class="form-check me-3">
                                            <input class="form-check-input" type="checkbox">
                                        </div>
                                        <div class="flex-grow-1">
                                            <strong>What is your annual income range?</strong>
                                            <p class="text-muted small mb-0">Single choice question</p>
                                        </div>
                                        <div class="ms-3">
                                            <input type="number" class="form-control form-control-sm" placeholder="Order" style="width: 80px;">
                                        </div>
                                        <div class="ms-2">
                                            <i class="fas fa-grip-vertical text-muted"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Create Survey</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Projection Modal -->
    <div class="modal fade" id="addProjectionModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Projection</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="projectionTitle" class="form-label">Title</label>
                        <input type="text" class="form-control" id="projectionTitle" placeholder="Enter projection title">
                    </div>
                    <div class="mb-3">
                        <label for="projectionAmount" class="form-label">Amount</label>
                        <input type="number" class="form-control" id="projectionAmount" placeholder="Enter amount">
                    </div>
                    <div class="mb-3">
                        <label for="projectionStatus" class="form-label">Status</label>
                        <select class="form-select" id="projectionStatus">
                            <option value="pending">Pending</option>
                            <option value="approved">Approved</option>
                            <option value="hardcopy">Hardcopy Submission</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary">Add Projection</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to show different sections
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active-section');
            });
            
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Find and activate the clicked nav link
            const navLinks = document.querySelectorAll('.nav-link');
            for (let i = 0; i < navLinks.length; i++) {
                if (navLinks[i].getAttribute('onclick') && navLinks[i].getAttribute('onclick').includes(sectionId)) {
                    navLinks[i].classList.add('active');
                    break;
                }
            }
            
            // Show the selected section - FIXED THE TYPO HERE
            document.getElementById(sectionId).classList.add('active-section');
            
            // Initialize charts if showing projection module
            if (sectionId === 'projection-module') {
                initializeCharts();
            }
        }

        // Function to show Add Question Modal
        function showAddQuestionModal() {
            const modal = new bootstrap.Modal(document.getElementById('addQuestionModal'));
            modal.show();
        }

        // Function to show Create Survey Modal
        function showCreateSurveyModal() {
            const modal = new bootstrap.Modal(document.getElementById('createSurveyModal'));
            modal.show();
        }

        // Function to show Add Projection Modal
        function showAddProjectionModal() {
            const modal = new bootstrap.Modal(document.getElementById('addProjectionModal'));
            modal.show();
        }

        // Function to show View Data Page
        function showViewDataPage(surveyTitle) {
            document.getElementById('viewDataSurveyTitle').textContent = surveyTitle;
            showSection('view-data');
        }

        // Function to show Survey Details
        function showSurveyDetails(surveyTitle) {
            alert('Survey details for: ' + surveyTitle);
            // In a real app, this would show a modal with survey details
        }

        // Function to toggle options based on question type
        function toggleOptions() {
            const questionType = document.getElementById('questionType').value;
            const optionsSection = document.getElementById('optionsSection');
            
            if (questionType === 'radio' || questionType === 'checkbox') {
                optionsSection.style.display = 'block';
            } else {
                optionsSection.style.display = 'none';
            }
        }

        // Function to add a new option
        function addOption() {
            const optionsContainer = document.getElementById('optionsContainer');
            const optionCount = optionsContainer.children.length + 1;
            
            const optionDiv = document.createElement('div');
            optionDiv.className = 'option-with-value';
            optionDiv.innerHTML = `
                <input type="text" class="form-control" placeholder="Option ${optionCount}">
                <input type="text" class="form-control value-input" placeholder="Value">
                <button class="btn btn-outline-danger" type="button" onclick="removeOption(this)"><i class="fas fa-times"></i></button>
            `;
            
            optionsContainer.appendChild(optionDiv);
        }

        // Function to remove an option
        function removeOption(button) {
            button.parentElement.remove();
        }

        // Mobile App Functions
        function showMobileSurvey(surveyTitle) {
            document.getElementById('mobileSurveysView').style.display = 'none';
            document.getElementById('mobileSurveyView').style.display = 'block';
            document.getElementById('mobileSubmittedDataView').style.display = 'none';
            document.getElementById('mobileProjectionView').style.display = 'none';
            document.getElementById('mobileSurveyTitle').textContent = surveyTitle;
            
            // Load questions based on survey title
            let questionsHTML = '';
            if (surveyTitle === 'Customer Satisfaction') {
                questionsHTML = `
                    <div class="mobile-question">
                        <label class="form-label">How satisfied are you with our banking services?</label>
                        <div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="satisfaction" id="satisfaction1">
                                <label class="form-check-label" for="satisfaction1">1 - Very Dissatisfied</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="satisfaction" id="satisfaction2">
                                <label class="form-check-label" for="satisfaction2">2 - Dissatisfied</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="satisfaction" id="satisfaction3">
                                <label class="form-check-label" for="satisfaction3">3 - Neutral</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="satisfaction" id="satisfaction4">
                                <label class="form-check-label" for="satisfaction4">4 - Satisfied</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="satisfaction" id="satisfaction5">
                                <label class="form-check-label" for="satisfaction5">5 - Very Satisfied</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mobile-question">
                        <label class="form-label">Which banking channels do you use regularly?</label>
                        <div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="channel1">
                                <label class="form-check-label" for="channel1">Mobile Banking App</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="channel2">
                                <label class="form-check-label" for="channel2">Online Banking</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="channel3">
                                <label class="form-check-label" for="channel3">ATM</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="channel4">
                                <label class="form-check-label" for="channel4">Branch Visit</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mobile-question">
                        <label class="form-label">What is your annual income range?</label>
                        <select class="form-select">
                            <option selected disabled>Select an option</option>
                            <option>Below 300,000 BDT</option>
                            <option>300,000 - 600,000 BDT</option>
                            <option>600,000 - 1,000,000 BDT</option>
                            <option>Above 1,000,000 BDT</option>
                        </select>
                    </div>
                    
                    <div class="mobile-question">
                        <label class="form-label">Please share any additional feedback</label>
                        <textarea class="form-control" rows="3" placeholder="Enter your comments..."></textarea>
                    </div>
                `;
            }
            
            document.getElementById('mobileSurveyQuestions').innerHTML = questionsHTML;
        }

        function showMobileSurveys() {
            document.getElementById('mobileSurveyView').style.display = 'none';
            document.getElementById('mobileConfirmationView').style.display = 'none';
            document.getElementById('mobileSubmittedDataView').style.display = 'none';
            document.getElementById('mobileProjectionView').style.display = 'none';
            document.getElementById('mobileSurveysView').style.display = 'block';
            
            // Update mobile nav
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.mobile-nav-item')[0].classList.add('active');
        }

        function showMobileProjection() {
            document.getElementById('mobileSurveyView').style.display = 'none';
            document.getElementById('mobileConfirmationView').style.display = 'none';
            document.getElementById('mobileSubmittedDataView').style.display = 'none';
            document.getElementById('mobileSurveysView').style.display = 'none';
            document.getElementById('mobileProjectionView').style.display = 'block';
            
            // Update mobile nav
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.mobile-nav-item')[1].classList.add('active');
        }

        function showMobileSubmittedData() {
            document.getElementById('mobileSurveyView').style.display = 'none';
            document.getElementById('mobileConfirmationView').style.display = 'none';
            document.getElementById('mobileSurveysView').style.display = 'none';
            document.getElementById('mobileProjectionView').style.display = 'none';
            document.getElementById('mobileSubmittedDataView').style.display = 'block';
            
            // Load submissions
            loadMobileSubmissions('all');
            
            // Update mobile nav
            document.querySelectorAll('.mobile-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.mobile-nav-item')[2].classList.add('active');
        }

        function showMobileProjectionTab(tabName) {
            // Hide all projection tabs
            document.querySelectorAll('.mobile-projection-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.mobile-projection-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById('mobileProjection' + tabName.charAt(0).toUpperCase() + tabName.slice(1)).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function loadMobileSubmissions(surveyFilter) {
            let submissionsHTML = '';
            
            // Sample submissions data
            const submissions = [
                {
                    id: 1,
                    survey: 'Customer Satisfaction',
                    date: '2023-06-15 10:30 AM',
                    businessArea: 'Retail Banking',
                    questions: [
                        { question: 'How satisfied are you with our banking services?', answer: '4 - Satisfied' },
                        { question: 'Which banking channels do you use regularly?', answer: 'Mobile Banking App, Online Banking' },
                        { question: 'What is your annual income range?', answer: '600,000 - 1,000,000 BDT' }
                    ]
                },
                {
                    id: 2,
                    survey: 'Customer Satisfaction',
                    date: '2023-06-14 02:15 PM',
                    businessArea: 'Retail Banking',
                    questions: [
                        { question: 'How satisfied are you with our banking services?', answer: '5 - Very Satisfied' },
                        { question: 'Which banking channels do you use regularly?', answer: 'ATM, Branch Visit' },
                        { question: 'What is your annual income range?', answer: '300,000 - 600,000 BDT' }
                    ]
                },
                {
                    id: 3,
                    survey: 'Product Feedback',
                    date: '2023-06-10 11:20 AM',
                    businessArea: 'Corporate Banking',
                    questions: [
                        { question: 'How would you rate the new mobile app?', answer: '5 - Very Good' },
                        { question: 'Which features do you use most frequently?', answer: 'Balance Check, Fund Transfer' },
                        { question: 'How often do you use the mobile app?', answer: 'Daily' }
                    ]
                }
            ];
            
            // Filter submissions if needed
            const filteredSubmissions = surveyFilter === 'all' 
                ? submissions 
                : submissions.filter(sub => sub.survey === surveyFilter);
            
            // Generate HTML for each submission
            filteredSubmissions.forEach(submission => {
                let questionsHTML = '';
                submission.questions.forEach(q => {
                    questionsHTML += `
                        <p class="mb-1 small"><strong>${q.question}</strong></p>
                        <p class="small">${q.answer}</p>
                    `;
                });
                
                submissionsHTML += `
                    <div class="survey-list-item">
                        <h6>${submission.survey}</h6>
                        <p class="small text-muted mb-1">Submitted on: ${submission.date}</p>
                        <p class="small text-muted mb-2">Business Area: ${submission.businessArea}</p>
                        <div class="mt-2">
                            ${questionsHTML}
                        </div>
                    </div>
                `;
            });
            
            document.getElementById('mobileSubmissionsList').innerHTML = submissionsHTML;
        }

        function filterMobileSubmissions(surveyName) {
            loadMobileSubmissions(surveyName);
        }

        function submitMobileResponse() {
            document.getElementById('mobileSurveyView').style.display = 'none';
            document.getElementById('mobileConfirmationView').style.display = 'block';
            document.getElementById('mobileSubmittedDataView').style.display = 'none';
        }

        function showAddProjectionMobile() {
            // In a real app, this would show a form to add a new projection
            alert('Add Projection form would open here');
        }

        // Function to download sample data
        function downloadSampleData() {
            // Create sample CSV data
            const csvData = "Response ID,Created By,Created Date,RM Number,Employee Name,Business Area,Question 1,Question 2,Question 3,Question 4\n" +
                           "342,user@example.com,2023-06-15 10:30:15,RM-00123,John Smith,Retail Banking,4 - Satisfied,\"Mobile Banking App, Online Banking\",\"600,000 - 1,000,000 BDT\",\"The mobile banking app is very convenient, but sometimes it's slow during peak hours.\"\n" +
                           "341,user@example.com,2023-06-14 14:15:42,RM-00123,John Smith,Retail Banking,5 - Very Satisfied,\"ATM, Branch Visit\",\"300,000 - 600,000 BDT\",\"Excellent customer service at the branch. Staff are very helpful.\"\n" +
                           "340,customer@example.com,2023-06-14 11:20:10,RM-00789,Michael Brown,Corporate Banking,3 - Neutral,\"Mobile Banking App\",\"Below 300,000 BDT\",\"Would like to see more ATM locations in my area.\"\n" +
                           "339,user2@example.com,2023-06-13 16:45:23,RM-00234,Emma Wilson,Retail Banking,4 - Satisfied,\"Online Banking, Branch Visit\",\"600,000 - 1,000,000 BDT\",\"Overall good experience with the bank.\"\n" +
                           "338,respondent2@example.com,2023-06-12 09:30:45,RM-00567,David Lee,SME Banking,2 - Dissatisfied,\"ATM\",\"300,000 - 600,000 BDT\",\"Transaction fees are too high for small transactions.\"\n" +
                           "337,customer2@example.com,2023-06-11 13:20:33,RM-00890,Sophia Garcia,Corporate Banking,5 - Very Satisfied,\"Mobile Banking App, Online Banking, ATM\",\"Above 1,000,000 BDT\",\"Very satisfied with all services. Keep up the good work!\"";
            
            // Create a Blob with the CSV data
            const blob = new Blob([csvData], { type: 'text/csv' });
            
            // Create a temporary URL for the Blob
            const url = URL.createObjectURL(blob);
            
            // Create a temporary link element to trigger the download
            const a = document.createElement('a');
            a.href = url;
            a.download = 'survey_responses_sample.csv';
            
            // Append the link to the body, click it, and remove it
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            // Release the Blob URL
            URL.revokeObjectURL(url);
        }

        // Initialize charts for projection module
        function initializeCharts() {
            // Zone Chart
            const zoneCtx = document.getElementById('zoneChart').getContext('2d');
            const zoneChart = new Chart(zoneCtx, {
                type: 'bar',
                data: {
                    labels: ['Dhaka Zone', 'Chittagong Zone', 'Khulna Zone'],
                    datasets: [{
                        label: 'Projections',
                        data: [12, 8, 4],
                        backgroundColor: [
                            'rgba(228, 30, 38, 0.7)',
                            'rgba(0, 84, 166, 0.7)',
                            'rgba(0, 166, 81, 0.7)'
                        ],
                        borderColor: [
                            'rgb(228, 30, 38)',
                            'rgb(0, 84, 166)',
                            'rgb(0, 166, 81)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Status Chart
            const statusCtx = document.getElementById('statusChart').getContext('2d');
            const statusChart = new Chart(statusCtx, {
                type: 'pie',
                data: {
                    labels: ['Pending', 'Approved', 'Hardcopy Submission'],
                    datasets: [{
                        data: [8, 12, 4],
                        backgroundColor: [
                            'rgba(255, 193, 7, 0.7)',
                            'rgba(40, 167, 69, 0.7)',
                            'rgba(23, 162, 184, 0.7)'
                        ],
                        borderColor: [
                            'rgb(255, 193, 7)',
                            'rgb(40, 167, 69)',
                            'rgb(23, 162, 184)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date as default for date inputs
            const today = new Date().toISOString().split('T')[0];
            const startDateInput = document.getElementById('startDate');
            const endDateInput = document.getElementById('endDate');
            
            if (startDateInput) startDateInput.value = today;
            
            if (endDateInput) {
                const nextWeek = new Date();
                nextWeek.setDate(nextWeek.getDate() + 7);
                endDateInput.value = nextWeek.toISOString().split('T')[0];
            }
            
            // Initialize charts if projection module is active
            if (document.getElementById('projection-module').classList.contains('active-section')) {
                initializeCharts();
            }
        });
    </script>
</body>
</html>